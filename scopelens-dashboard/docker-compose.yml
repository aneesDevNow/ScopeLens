services:
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        NEXT_PUBLIC_SUPABASE_URL: ${NEXT_PUBLIC_SUPABASE_URL}
        NEXT_PUBLIC_SUPABASE_ANON_KEY: ${NEXT_PUBLIC_SUPABASE_ANON_KEY}
        SUPABASE_SERVICE_ROLE_KEY: ${SUPABASE_SERVICE_ROLE_KEY}
        COOKIE_ENCRYPTION_KEY: ${COOKIE_ENCRYPTION_KEY}
        S3_ENDPOINT: ${S3_ENDPOINT}
        S3_ACCESS_KEY: ${S3_ACCESS_KEY}
        S3_SECRET_KEY: ${S3_SECRET_KEY}
        S3_BUCKET_NAME: ${S3_BUCKET_NAME}
        S3_BUCKET_FOLDER_DOCUMENTS: ${S3_BUCKET_FOLDER_DOCUMENTS}
        S3_BUCKET_FOLDER_REPORTS: ${S3_BUCKET_FOLDER_REPORTS}
    expose:
      - "3001"
    environment:
      - NEXT_PUBLIC_SUPABASE_URL
      - NEXT_PUBLIC_SUPABASE_ANON_KEY
      - COOKIE_ENCRYPTION_KEY
      - SUPABASE_SERVICE_ROLE_KEY
      - S3_ENDPOINT
      - S3_ACCESS_KEY
      - S3_SECRET_KEY
      - S3_BUCKET_NAME
      - S3_BUCKET_FOLDER_DOCUMENTS
      - S3_BUCKET_FOLDER_REPORTS
    restart: unless-stopped
